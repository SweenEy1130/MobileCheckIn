CREATE TABLE USER(
    UID BIGINT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
    USERNAME CHAR(20) ,
    PASSWORD CHAR(20) ,
    CHINAME CHAR(20),
    LOCID INTEGER,
    IMAGESAMPLE CHAR(100),
    AUDIOENGINE CHAR(100),
    CREATETIME DATETIME,
    DEPARTMENT CHAR(100),
    );
ALTER TABLE USER ADD UNIQUE(USERNAME);
ALTER TABLE USER MODIFY CHINAME CHAR(20) CHARACTER SET GBK;
ALTER TABLE USER MODIFY DEPARTMENT CHAR(20) CHARACTER SET GBK;

CREATE TABLE ADMINISTRATOR(
    UID BIGINT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
    USERNAME CHAR(20),
    CHINAME CHAR(20),
    PASSWORD CHAR(20)
);
ALTER TABLE ADMINISTRATOR ADD UNIQUE(USERNAME);
ALTER TABLE ADMINISTRATOR MODIFY CHINAME CHAR(20) CHARACTER SET GBK;
INSERT INTO ADMINISTRATOR(USERNAME,PASSWORD) VALUES('admin','admin');

CREATE TABLE AUDIO(
	OWNER BIGINT UNSIGNED NOT NULL,
    FOREIGN KEY(OWNER) REFERENCES USER(UID) ON DELETE CASCADE ON UPDATE CASCADE,
	AUDIOHASH CHAR(100) PRIMARY KEY,
	CREATETIME DATETIME
);

CREATE TABLE LOCATION(
    LOCID INTEGER UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
    LOCATIONNAME CHAR(100),
    LONGITUDE DOUBLE,
    LATITUDE DOUBLE,
    STARTTIME DATETIME,
    TERMITIME DATETIME
);
ALTER TABLE USER MODIFY LOCATIONNAME CHAR(100) CHARACTER SET GBK;
INSERT INTO LOCATION VALUES(1,'SJTU',121.43574714660645,31.024988336871534);

CREATE TABLE DETECT(
    OWNER BIGINT UNSIGNED NOT NULL,
    FOREIGN KEY(OWNER) REFERENCES USER(UID) ON DELETE CASCADE ON UPDATE CASCADE,
    SESSIONID BIGINT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
    AUDIOHASH CHAR(100),
    AUDIODETECT TINYINT,
    LONGITUDE DOUBLE,
    LATITUDE DOUBLE,
    FACEHASH CHAR(100),
    FACEDETECT FLOAT,
    DETECTTIME DATETIME,
    STATUS BOOL
);

INSERT INTO USER(UID,USERNAME,CHINAME) VALUES (5100309145,'WELL147852','袁[');
INSERT INTO USER(UID,USERNAME,CHINAME) VALUES (5101109071,'ronnie_alonso','李征');
INSERT INTO USER(UID,USERNAME,CHINAME) VALUES (5100209333,'oo7y','程尚义');
INSERT INTO USER(UID,USERNAME,CHINAME) VALUES (5100209356,'poisonxiu517','赵燎原');

INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5100209333,121.438043,31.025543,"2013-06-21 15:04:11");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5100209333,121.442119,31.032618,"2013-07-01 13:04:11");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5101109071,121.452395,31.030324,"2013-07-01 23:04:11");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5100209333,121.450015,31.033975,"2013-07-01 23:07:04");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5100209333,121.435947,31.032335,"2013-07-11 23:07:04");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5100209333,121.440223,31.033449,"2013-07-12 09:07:04");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5100209356,121.440223,31.033449,"2013-07-12 11:09:57");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5100309145,121.440223,31.033449,"2013-07-22 09:09:57");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5101109071,121.440223,31.033449,"2013-07-22 19:09:57");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5100209333,121.438043,31.025543,"2013-10-03 17:33:01");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5100209333,121.442119,31.032618,"2013-10-13 17:33:01");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5101109071,121.453395,31.030324,"2013-10-14 03:33:01");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5100209333,121.450015,31.033975,"2013-10-14 03:35:54");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5100209333,121.435947,31.045635,"2013-10-24 03:35:54");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5100209333,121.470223,31.066449,"2013-10-24 13:35:54");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5100209356,121.453223,31.033449,"2013-10-24 13:38:47");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5100309145,121.440223,30.933449,"2013-11-03 13:38:47");
INSERT INTO DETECT(OWNER,LONGITUDE,LATITUDE,DETECTTIME) VALUES(5101109071,120.440223,32.234449,"2013-11-03 23:38:47");














2013-10-03 17:33:01
2013-10-13 17:33:01
2013-10-14 03:33:01
2013-10-14 03:35:54
2013-10-24 03:35:54
2013-10-24 13:35:54
2013-10-24 13:38:47
2013-11-03 13:38:47
2013-11-03 23:38:47
2013-11-03 23:41:40
2013-11-13 23:41:40
2013-11-14 09:41:40
2013-11-14 09:44:33
2013-11-24 09:44:33
2013-11-24 19:44:33
2013-11-24 19:47:26
2013-12-04 19:47:26
2013-12-05 05:47:26
2013-12-05 05:50:19
2013-12-15 05:50:19
2013-12-15 15:50:19
2013-12-15 15:53:12
2013-12-25 15:53:12
2013-12-26 01:53:12
2013-12-26 01:56:05
2014-01-05 01:56:05
2014-01-05 11:56:05
2014-01-05 11:58:58
2014-01-15 11:58:58
2014-01-15 21:58:58
2014-01-15 22:01:51